第九章: 操作系统和硬件优化
一: 选择更快的cpu

二: 配置大量内存: 最终目的是避免磁盘I/O,因为磁盘I/O比在内存中访问数据要慢得多
1 : 顺序I/O比随机I/O快 :
2 : 存储引擎执行顺序读比随机读快

三: 硬盘
InnDB能很好地扩展到多个硬盘驱动器,然而Myisam的表锁限制其写的可扩展性
固态硬盘
更好的随机和顺序读写性,更好支持并发

四: 磁盘阵列 : 可以做冗余,扩展存储容量,缓存,加速

第十章: 复制
mysql复制方式: 基于行的复制和基于语句的复制

通过在主库上记录二进制日志,在备库重放日志的方式实现异步的数据复制,复制过程会有延时

一 复制解决的问题
1 数据分布 :
2 负载均衡 : 通过MYSQL复制可以将读操作分布到多个服务器上,实现对读密集型应用的优化,并且实现很方便,通过简单的代码修改就能实现基本的负载均衡

二 复制如果工作
1 主库把数据更改到二进制日志中
2 备库将主库上的日志复制到自己的中继日志中
3 备库读取中继日志中的事件,将其重放到备库数据之上

三 复制的原理
1 基于语句的复制 : SQL再执行一遍 . 简单
2 基于行的复制: 将实际数据记录在二进制日志中.高效的复制
3 备库可以变成其他服务器的主库

四 复制拓扑
1 一个Mysql备库实例只能有一个主库
2 一个主库可以有多个备库

(1) 一主库多备库 : 读多写少操作 (不能有一个备库,多个主库)

(2) 主动-主动模式下的主-主复制
主-主复制包含两台服务器,每一个都被配置成对方的主库和备库

(3) 主动-被动模式下的主-主复制

(4) 拥有备库的主-主结构

(5) 环型复制

第11章
一 向外扩展
1 : 数据分片

2 : 负载均衡
web服务器读操作是通过负载均衡器,查询MYSQL从库的数据,写操作是直接操作MYSQL主库.









